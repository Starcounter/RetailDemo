## Setting up the RetailDemo nodejs servers with  MySQL/Galera

You will need to have an account on Amazon EC2 and know how to use it, as well as basic Linux syadmin knowledge at a minimum. You will need one EC2 instance to run ClusterControl and the deployment script generated by http://www.severalnines.com/New-Galera-Configurator/index.html, and one EC2 instance for each Galera node with at least 8 vCPU's.

If you haven't set up a Galera cluster before, you can read the tutorial at http://www.severalnines.com/resources/deploy-galera-replication-cluster-amazon-vpc, but keep in mind that we won't be needing the separate HTTP servers. For performance, we instead run nodejs directly on the nodes and have nodejs connect using Unix Domain sockets.

Once the Galera cluster is up and running, copy `retail-demo-mysql.js` and `run-retail-mysql.sh` to each of the Galera nodes. Finally, run `run-retail-mysql.sh` on all of the nodes to spin up the nodejs processes. They will listen to HTTP requests on ports 3000 - 3007. Verify that they're running using `curl -v http://localhost:3000/`.

You can now run the RetailDemo client scripts, but make sure that the IP addresses in the client control script are correct.
